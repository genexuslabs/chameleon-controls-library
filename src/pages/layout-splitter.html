<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>ch-drag-bar</title>
    <script type="module" src="/build/chameleon.esm.js"></script>
    <script nomodule src="/build/chameleon.js"></script>
    <link href="/build/chameleon.css" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/styles/styles.css" />

    <style>
      body {
        display: flex;
        height: 100vh;
        font-family: SourceSansPro_Regular;
        margin: 0;
      }

      *,
      ::after,
      ::before {
        box-sizing: border-box;
      }

      .components {
        display: grid;
        width: 100%;
        height: 100%;
      }

      fieldset {
        display: grid;
        grid-template-columns: max-content;
        gap: 8px;
      }
    </style>
  </head>
  <body>
    <div>
      <div>
        <fieldset>
          <legend>Layout configuration</legend>

          <button id="layout-1">Configuration 1</button>
          <button id="layout-2">Configuration 2</button>
          <button id="layout-3">Configuration 3</button>
          <button id="layout-4">Configuration 4</button>
        </fieldset>
      </div>
    </div>

    <ch-layout-splitter>
      <div
        slot="start-component"
        class="components"
        style="background-color: beige"
      >
        Start

        <input type="text" style="height: 80px" />
      </div>
      <div
        slot="end-component"
        class="components"
        style="background-color: burlywood"
      >
        End

        <input type="text" style="height: 80px" />
      </div>

      <div
        slot="end-end-component"
        class="components"
        style="background-color: rgb(80, 91, 131)"
      >
        End End

        <input type="text" style="height: 80px" />
      </div>

      <div
        slot="center-2-component"
        class="components"
        style="background-color: rgb(196, 226, 122)"
      >
        Center 2

        <input type="text" style="height: 80px" />
      </div>

      <div
        slot="center-component"
        class="components"
        style="background-color: rgb(22, 151, 95)"
      >
        Center

        <input type="text" style="height: 80px" />
      </div>
    </ch-layout-splitter>

    <script src="./assets/scripts/common.js"></script>
    <script>
      window.addEventListener("appload", () => {
        const layoutSplitter = document.querySelector("ch-layout-splitter");

        layoutSplitter.layout = {
          direction: "rows",
          items: [
            {
              size: "1fr",
              direction: "columns",
              items: [
                { id: "start-component", size: "300px" },
                { id: "center-component", size: "1fr" },
                { id: "end-component", size: "270px" }
              ]
            },
            { id: "end-end-component", size: "250px" }
          ]
        };

        const button1 = document.querySelector("#layout-1");
        const button2 = document.querySelector("#layout-2");
        const button3 = document.querySelector("#layout-3");
        const button4 = document.querySelector("#layout-4");

        button1.addEventListener("click", () => {
          layoutSplitter.layout = {
            direction: "columns",
            items: [
              { id: "start-component", size: "3fr" },
              { id: "end-end-component", size: "2fr" },
              { id: "center-component", size: "200px" },
              { id: "end-component", size: "180px" }
            ]
          };
        });

        button2.addEventListener("click", () => {
          layoutSplitter.layout = {
            direction: "rows",
            items: [
              {
                size: "1fr",
                direction: "columns",
                items: [
                  { id: "start-component", size: "300px" },
                  { id: "center-component", size: "1fr" },
                  { id: "end-component", size: "270px" }
                ]
              },
              { id: "end-end-component", size: "250px" }
            ]
          };
        });

        button3.addEventListener("click", () => {
          layoutSplitter.layout = {
            direction: "columns",
            items: [
              { id: "start-component", size: "300px" },
              {
                size: "1fr",
                direction: "rows",
                items: [
                  { id: "center-component", size: "1fr" },
                  { id: "end-end-component", size: "300px" }
                ]
              },
              { id: "end-component", size: "270px" }
            ]
          };
        });

        button4.addEventListener("click", () => {
          layoutSplitter.layout = {
            direction: "columns",
            items: [
              { id: "start-component", size: "300px" },
              {
                size: "1fr",
                direction: "rows",
                items: [
                  {
                    size: "1fr",
                    direction: "columns",
                    items: [
                      { id: "center-component", size: "1fr" },
                      { id: "center-2-component", size: "1fr" }
                    ]
                  },
                  { id: "end-end-component", size: "300px" }
                ]
              },
              { id: "end-component", size: "270px" }
            ]
          };
        });
      });
    </script>
  </body>
</html>
